# create-relay-app

A Starterkit that setups Relay.js in an existing React.js project. Supported toolchains are [Next.js](https://nextjs.org/), [Vite.js](https://vitejs.dev/) and [Create React App](https://create-react-app.dev/).

## Running the Starterkit

1. If you are inside a Git repository, ensure your working directory is clean, by commiting or discarding any changes.
2. Run the Starterkit in the root directory of your existing project:

```bash
npm/yarn/pnpm create relay-app@latest
```

> Note: You can specify `-i` after the command to walk through an interactive prompt that lets you specify your project's details.

3. Follow the displayed _Next steps_ to complete the setup (You can also find them [here](./docs/steps-after-setup.md))

## Arguments

```bash
npm/yarn/pnpm create relay-app@latest [arguments]
```

### -h, --help

Displays information about all of the available arguments.

### -v, --version

Displays the current version of the script.

### -i, --interactive

Displays an interactive prompt that allows you to manually input your project's details.

Default: `false`

### -t, --toolchain &lt;toolchain&gt;

The toolchain, e.g. bundler and configuration, your project was setup with.

Expects:

- `next`
- `vite`
- `cra`

Default: `next`, if the `next` package is installed. `vite`, if the `vite` package is installed and otherwise `cra`.

### --typescript

If specified, we assume your project is built with TypeScript.

Default: `true`, if the `typescript` package is installed **or** there is a `tsconfig.json` file in the root directory of your project. Otherwise `false`.

### -f, --schema-file &lt;path&gt;

Specifies the location of the GraphQL schema file inside of your project directory.

Expects:

A path relative to the root directory of your project and ending in the `.graphql` extension.

Default: `./src/schema.graphql`, if the [toolchain](#t---toolchain-toolchain) is `next`, otherwise the value of [--src](#s---src-path) joined with `schema.graphql`.

### -s, --src &lt;path&gt;

Specifies the source directory of your project, where the Relay compiler will be run on.

Expects:

A path to a directory relative to the root directory of your project.

Default: `./`, if the [toolchain](#t---toolchain-toolchain) is `next`, otherwise `./src`.

### -a, --artifact-directory &lt;path&gt;

Specifies a directory, where all artifacts generated by the Relay compiler will be placed.

Expects:

A path to a directory relative to the root directory of your project.

Default: `./__generated__`, if the [toolchain](#t---toolchain-toolchain) is `next`, otherwise it's not set.

### --subscriptions

Adds support for GraphQL Subscriptions via [graphql-ws](https://github.com/enisdenjo/graphql-ws) to your network layer.

Default: Not set.

### -p, --package-manager &lt;manager&gt;

Specify the Node.js package manager to use when packages need to be installed.

Expects:

- `npm`
- `yarn`
- `pnpm`

Default: `yarn`, if there's a `yarn.lock` file and `yarn` is installed. `pnpm`, if there's a `pnpm-lock.yml` file and `pnpm` is installed. Otherwise the package manager that is executing the script will be used to install packages.

### --ignore-git-changes

Does not exit the script, if it's run in a directory with un-commited Git changes.

Default: `false`

### --skip-install

Skips the installation of packages.

Default: `false`

## Additional documents

- [Manual steps after running the script](./docs/steps-after-setup.md)
- [Data fetching with Next.js](./docs/next-data-fetching.md)
- [babel-plugin-relay in combination with Create-React-App](./docs/cra-babel-setup.md)

_This project was originally developed by [tobias-tengler](https://github.com/tobias-tengler) in https://github.com/tobias-tengler/create-relay-app_
