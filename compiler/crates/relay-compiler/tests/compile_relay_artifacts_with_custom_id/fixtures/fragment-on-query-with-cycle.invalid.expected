==================================== INPUT ====================================
# expected-to-throw
fragment fragmentOnQueryWithCycle_RefetchableFragment on Query
  @refetchable(queryName: "RefetchableFragmentQuery")
  @argumentDefinitions(id: {type: "ID!"}) {
  node(global_id: $id) {
    ... on User {
      global_id
      name
      ...fragmentOnQueryWithCycle_Profile @arguments(includeProfile: true)
    }
  }
}

fragment fragmentOnQueryWithCycle_Profile on User
  @argumentDefinitions(
    includeProfile: {type: "Boolean!", defaultValue: false}
  ) {
  global_id
  name
  profilePicture(size: $pictureSize) @include(if: $includeProfile) {
    uri
  }
  friends(first: $count) {
    edges {
      node {
        ...fragmentOnQueryWithCycle_Profile
      }
    }
  }
}
==================================== ERROR ====================================
[31mâœ–ï¸Ž Found a circular reference from fragment 'fragmentOnQueryWithCycle_Profile'.[0m

  [4mfragment-on-query-with-cycle.invalid.graphql[0m[2m:26:12[0m
[1m   25 â”‚ [0m      node {
[1m   26 â”‚ [0m        ...[31mf[0m[31mr[0m[31ma[0m[31mg[0mmentOnQueryWith[31mC[0m[31my[0m[31mc[0m[31ml[0m[31me[0m[31m_[0m[31mP[0mrofile
      â”‚            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   27 â”‚       }

[31m  â„¹ï¸Ž other member of the cycle[0m

  [4mfragment-on-query-with-cycle.invalid.graphql[0m[2m:2:10[0m
[1m    1 â”‚ [0m# expected-to-throw
[1m    2 â”‚ [0mfragment [31mf[0m[31mr[0m[31ma[0m[31mg[0m[31mm[0m[31me[0m[31mn[0m[31mt[0m[31mO[0m[31mn[0m[31mQ[0m[31mu[0m[31me[0m[31mr[0m[31my[0m[31mW[0m[31mi[0m[31mt[0m[31mh[0m[31mC[0m[31my[0m[31mc[0m[31ml[0m[31me[0m[31m_[0m[31mR[0m[31me[0m[31mf[0m[31me[0m[31mt[0m[31mc[0m[31mh[0m[31ma[0m[31mb[0m[31ml[0m[31me[0m[31mF[0m[31mr[0m[31ma[0m[31mg[0m[31mm[0m[31me[0m[31mn[0m[31mt[0m on Query
      â”‚ [31m         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[0m
[1m    3 â”‚ [0m  @refetchable(queryName: "RefetchableFragmentQuery")

[31m  â„¹ï¸Ž other member of the cycle[0m

  [4mfragment-on-query-with-cycle.invalid.graphql[0m[2m:9:10[0m
[1m    8 â”‚ [0m      name
[1m    9 â”‚ [0m      ...[31mf[0m[31mr[0m[31ma[0m[31mg[0m[31mm[0m[31me[0m[31mn[0m[31mt[0m[31mO[0m[31mn[0m[31mQ[0m[31mu[0m[31me[0m[31mr[0m[31my[0m[31mW[0m[31mi[0m[31mt[0m[31mh[0m[31mC[0m[31my[0m[31mc[0m[31ml[0m[31me[0m[31m_[0m[31mP[0m[31mr[0m[31mo[0m[31mf[0m[31mi[0m[31ml[0m[31me[0m @arguments(includeProfile: true)
      â”‚ [31m         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[0m
[1m   10 â”‚ [0m    }

[31m  â„¹ï¸Ž other member of the cycle[0m

  [4mfragment-on-query-with-cycle.invalid.graphql[0m[2m:26:12[0m
[1m   25 â”‚ [0m      node {
[1m   26 â”‚ [0m        ...[31mf[0m[31mr[0m[31ma[0m[31mg[0m[31mm[0m[31me[0m[31mn[0m[31mt[0m[31mO[0m[31mn[0m[31mQ[0m[31mu[0m[31me[0m[31mr[0m[31my[0m[31mW[0m[31mi[0m[31mt[0m[31mh[0m[31mC[0m[31my[0m[31mc[0m[31ml[0m[31me[0m[31m_[0m[31mP[0m[31mr[0m[31mo[0m[31mf[0m[31mi[0m[31ml[0m[31me[0m
      â”‚ [31m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[0m
[1m   27 â”‚ [0m      }
