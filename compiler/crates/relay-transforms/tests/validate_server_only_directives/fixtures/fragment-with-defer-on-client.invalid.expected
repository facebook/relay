==================================== INPUT ====================================
# expected-to-throw
query QueryWithFragmentWithDefer {
  me {
    id
    ...UserFragment
  }
}

fragment UserFragment on User {
  id
  emailAddresses
  foo {
    ...DeferredFragment @defer(label: "DeferredFragmentLabel")
  }
}

fragment DeferredFragment on ClientUser {
  clientname
}

# %extensions%
extend type User {
  foo: ClientUser
}

interface ClientUser {
  id: String
  clientname: String
}
==================================== ERROR ====================================
[31mâœ–ï¸Ž Unexpected directive: 'defer'. This directive can only be used on fields/fragments that are fetched from the server schema, but it is used inside a client-only selection.[0m

  [4mfragment-with-defer-on-client.invalid.graphql[0m[2m:13:25[0m
[1m   12 â”‚ [0m  foo {
[1m   13 â”‚ [0m    ...DeferredFragment [31m@[0m[31md[0m[31me[0m[31mf[0m[31me[0m[31mr[0m(label: "DeferredFragmentLabel")
      â”‚ [31m                        ^^^^^^[0m
[1m   14 â”‚ [0m  }

[31m  â„¹ï¸Ž related location[0m

  [4mfragment-with-defer-on-client.invalid.graphql[0m[2m:17:10[0m
[1m   16 â”‚ [0m
[1m   17 â”‚ [0mfragment [31mD[0m[31me[0m[31mf[0m[31me[0m[31mr[0m[31mr[0m[31me[0m[31md[0m[31mF[0m[31mr[0m[31ma[0m[31mg[0m[31mm[0m[31me[0m[31mn[0m[31mt[0m on ClientUser {
      â”‚ [31m         ^^^^^^^^^^^^^^^^[0m
[1m   18 â”‚ [0m  clientname
