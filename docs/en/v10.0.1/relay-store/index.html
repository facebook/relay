<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Relay Store · Relay</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The Relay Store can be used to programmatically update client-side data inside [`updater` functions](./mutations.html#using-updater-and-optimisticupdater). The following is a reference of the Relay Store interface."/><meta name="docsearch:version" content="v10.0.1"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Relay Store · Relay"/><meta property="og:type" content="website"/><meta property="og:url" content="https://relay.dev/"/><meta property="og:description" content="The Relay Store can be used to programmatically update client-side data inside [`updater` functions](./mutations.html#using-updater-and-optimisticupdater). The following is a reference of the Relay Store interface."/><meta property="og:image" content="https://relay.dev/img/relay.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://relay.dev/img/relay.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-50', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/redirect.js"></script><script type="text/javascript" src="/js/docsRating.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><h2 class="headerTitle">Relay</h2></a><a href="/en/versions"><h3>v10.0.1</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/en/v10.0.1/introduction-to-relay" target="_self">Docs</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/relay" target="_self">GitHub</a></li><li class=""><a target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/introduction-to-relay">Introduction to Relay</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/prerequisites">Prerequisites</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/installation-and-setup">Installation and Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/quick-start-guide">Quick Start Guide</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/graphql-in-relay">GraphQL in Relay</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/relay-environment">Relay Environment</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/network-layer">Network Layer</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/query-renderer">QueryRenderer</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/fragment-container">Fragment Container</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/refetch-container">Refetch Container</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/pagination-container">Pagination Container</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/mutations">Mutations</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/subscriptions">Subscriptions</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/v10.0.1/relay-store">Relay Store</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/fetch-query">fetchQuery</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/routing">Routing</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/relay-debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/graphql-server-specification">GraphQL Server Specification</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/persisted-queries">Persisted Queries</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/type-emission">Type Emission</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/testing-relay-components">Testing Relay Components</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/local-state-management">Local State Management</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Principles &amp; Architecture<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/thinking-in-graphql">Thinking in GraphQL</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/thinking-in-relay">Thinking In Relay</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/architecture-overview">Architecture Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/compiler-architecture">Compiler Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/runtime-architecture">Runtime Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/videos">Videos</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Community<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/v10.0.1/community-learning-resources">Community Learning Resources</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/relay/edit/master/docs/Modern-RelayStore.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Relay Store</h1></header><article><div><span><p>The Relay Store can be used to programmatically update client-side data inside <a href="./mutations.html#using-updater-and-optimisticupdater"><code>updater</code> functions</a>. The following is a reference of the Relay Store interface.</p>
<p>Table of Contents:</p>
<ul>
<li><a href="#recordsourceselectorproxy">RecordSourceSelectorProxy</a></li>
<li><a href="#recordproxy">RecordProxy</a></li>
<li><a href="#connectionhandler">ConnectionHandler</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="recordsourceselectorproxy"></a><a href="#recordsourceselectorproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RecordSourceSelectorProxy</h2>
<p>The <code>RecordSourceSelectorProxy</code> is the type of the <code>store</code> that <a href="./mutations.html#using-updater-and-optimisticupdater"><code>updater</code> functions</a> receive as an argument. The following is the <code>RecordSourceSelectorProxy</code> interface:</p>
<pre><code class="hljs css language-javascript">interface RecordSourceSelectorProxy {
  create(dataID: string, <span class="hljs-attr">typeName</span>: string): RecordProxy;
  <span class="hljs-keyword">delete</span>(dataID: string): <span class="hljs-keyword">void</span>;
  get(dataID: string): ?RecordProxy;
  getRoot(): RecordProxy;
  getRootField(fieldName: string): ?RecordProxy;
  getPluralRootField(fieldName: string): ?<span class="hljs-built_in">Array</span>&lt;?RecordProxy&gt;;
  invalidateStore(): <span class="hljs-keyword">void</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="createdataid-string-typename-string-recordproxy"></a><a href="#createdataid-string-typename-string-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>create(dataID: string, typeName: string): RecordProxy</code></h3>
<p>Creates a new record in the store given a <code>dataID</code> and the <code>typeName</code> as defined by the GraphQL schema. Returns a <a href="#recordproxy"><code>RecordProxy</code></a> which serves as an interface to mutate the newly created record.</p>
<h4><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> record = store.create(dataID, <span class="hljs-string">&#x27;Todo&#x27;</span>);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="deletedataid-string-void"></a><a href="#deletedataid-string-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>delete(dataID: string): void</code></h3>
<p>Deletes a record from the store given its <code>dataID</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-1"></a><a href="#example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript">store.delete(dataID);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getdataid-string-recordproxy"></a><a href="#getdataid-string-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>get(dataID: string): ?RecordProxy</code></h3>
<p>Retrieves a record from the store given its <code>dataID</code>. Returns a <a href="#recordproxy"><code>RecordProxy</code></a> which serves as an interface to mutate the record.</p>
<h4><a class="anchor" aria-hidden="true" id="example-2"></a><a href="#example-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> record = store.get(dataID);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getroot-recordproxy"></a><a href="#getroot-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getRoot(): RecordProxy</code></h3>
<p>Returns the <a href="#recordproxy"><code>RecordProxy</code></a> representing the root of the GraphQL document.</p>
<h4><a class="anchor" aria-hidden="true" id="example-3"></a><a href="#example-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-section">viewer</span> {
  <span class="hljs-attribute">id</span>
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// Represents root query</span>
<span class="hljs-keyword">const</span> root = store.getRoot();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getrootfieldfieldname-string-recordproxy"></a><a href="#getrootfieldfieldname-string-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getRootField(fieldName: string): ?RecordProxy</code></h3>
<p>Retrieves a root field from the store given the <code>fieldName</code>, as defined by the GraphQL document. Returns a <a href="#recordproxy"><code>RecordProxy</code></a> which serves as an interface to mutate the record.</p>
<h4><a class="anchor" aria-hidden="true" id="example-4"></a><a href="#example-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-section">viewer</span> {
  <span class="hljs-attribute">id</span>
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> viewer = store.getRootField(<span class="hljs-string">&#x27;viewer&#x27;</span>);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getpluralrootfieldfieldname-string-arrayrecordproxy"></a><a href="#getpluralrootfieldfieldname-string-arrayrecordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getPluralRootField(fieldName: string): ?Array&lt;?RecordProxy&gt;</code></h3>
<p>Retrieves a root field that represents a collection from the store given the <code>fieldName</code>, as defined by the GraphQL document. Returns an array of <a href="#recordproxy"><code>RecordProxies</code></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-5"></a><a href="#example-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">nodes(<span class="hljs-keyword">first</span>: <span class="hljs-number">10</span>) {
  <span class="hljs-comment"># ...</span>
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> nodes = store.getPluralRootField(<span class="hljs-string">&#x27;nodes&#x27;</span>);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="invalidatestore-void"></a><a href="#invalidatestore-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>invalidateStore(): void</code></h3>
<p>Globally invalidates the Relay store. This will cause any data that was written to the store before invalidation occurred to be considered stale, and will be considered to require refetch the next time a query is checked with <code>environment.check()</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-6"></a><a href="#example-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript">store.invalidateStore();
</code></pre>
<p>After global invalidation, any query that is checked before refetching it will be considered stale:</p>
<pre><code class="hljs css language-javascript">environment.check(query) === <span class="hljs-string">&#x27;stale&#x27;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="recordproxy"></a><a href="#recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RecordProxy</h2>
<p>The <code>RecordProxy</code> serves as an interface to mutate records:</p>
<pre><code class="hljs css language-javascript">interface RecordProxy {
  copyFieldsFrom(sourceRecord: RecordProxy): <span class="hljs-keyword">void</span>;
  getDataID(): string;
  getLinkedRecord(name: string, <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>): ?RecordProxy;
  getLinkedRecords(name: string, <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>): ?<span class="hljs-built_in">Array</span>&lt;?RecordProxy&gt;;
  getOrCreateLinkedRecord(
    name: string,
    <span class="hljs-attr">typeName</span>: string,
    <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>,
  ): RecordProxy;
  getType(): string;
  getValue(name: string, <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>): mixed;
  setLinkedRecord(
    record: RecordProxy,
    <span class="hljs-attr">name</span>: string,
    <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>,
  ): RecordProxy;
  setLinkedRecords(
    records: <span class="hljs-built_in">Array</span>&lt;?RecordProxy&gt;,
    name: string,
    <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>,
  ): RecordProxy;
  setValue(value: mixed, <span class="hljs-attr">name</span>: string, <span class="hljs-built_in">arguments</span>?: ?<span class="hljs-built_in">Object</span>): RecordProxy;
  invalidateRecord(): <span class="hljs-keyword">void</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getdataid-string"></a><a href="#getdataid-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getDataID(): string</code></h3>
<p>Returns the dataID of the current record.</p>
<h4><a class="anchor" aria-hidden="true" id="example-7"></a><a href="#example-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> id = record.getDataID();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="gettype-string"></a><a href="#gettype-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getType(): string</code></h3>
<p>Gets the type of the current record, as defined by the GraphQL schema.</p>
<h4><a class="anchor" aria-hidden="true" id="example-8"></a><a href="#example-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> type = user.getType();  <span class="hljs-comment">// User</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getvaluename-string-arguments-object-mixed"></a><a href="#getvaluename-string-arguments-object-mixed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getValue(name: string, arguments?: ?Object): mixed</code></h3>
<p>Gets the value of a field in the current record given the field name.</p>
<h4><a class="anchor" aria-hidden="true" id="example-9"></a><a href="#example-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">viewer {
  <span class="hljs-built_in">id</span>
  <span class="hljs-built_in">name</span>
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> name = viewer.getValue(<span class="hljs-string">&#x27;name&#x27;</span>);
</code></pre>
<p>Optionally, if the field takes arguments, you can pass a bag of <code>variables</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-10"></a><a href="#example-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">viewer {
 <span class="hljs-built_in"> id</span>
 <span class="hljs-built_in"> name</span>(arg: <span class="hljs-variable">$arg</span>)
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> name = viewer.getValue(<span class="hljs-string">&#x27;name&#x27;</span>, {<span class="hljs-attr">arg</span>: <span class="hljs-string">&#x27;value&#x27;</span>});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getlinkedrecordname-string-arguments-object-recordproxy"></a><a href="#getlinkedrecordname-string-arguments-object-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getLinkedRecord(name: string, arguments?: ?Object): ?RecordProxy</code></h3>
<p>Retrieves a record associated with the current record given the field name, as defined by the GraphQL document. Returns a <code>RecordProxy</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-11"></a><a href="#example-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-section">rootField</span> {
  <span class="hljs-section">viewer</span> {
    <span class="hljs-attribute">id</span>
    name
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> viewer = rootField.getLinkedRecord(<span class="hljs-string">&#x27;viewer&#x27;</span>);
</code></pre>
<p>Optionally, if the linked record takes arguments, you can pass a bag of <code>variables</code> as well.</p>
<h4><a class="anchor" aria-hidden="true" id="example-12"></a><a href="#example-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">rootField {
  viewer(<span class="hljs-keyword">arg</span>: $<span class="hljs-keyword">arg</span>) {
    id
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> viewer = rootField.getLinkedRecord(<span class="hljs-string">&#x27;viewer&#x27;</span>, {<span class="hljs-attr">arg</span>: <span class="hljs-string">&#x27;value&#x27;</span>});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getlinkedrecordsname-string-arguments-object-arrayrecordproxy"></a><a href="#getlinkedrecordsname-string-arguments-object-arrayrecordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getLinkedRecords(name: string, arguments?: ?Object): ?Array&lt;?RecordProxy&gt;</code></h3>
<p>Retrieves the set of records associated with the current record given the field name, as defined by the GraphQL document. Returns an array of <code>RecordProxies</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-13"></a><a href="#example-13" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-class">rootField </span>{
  <span class="hljs-class">nodes </span>{
    <span class="hljs-meta"># ...</span>
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> nodes = rootField.getLinkedRecords(<span class="hljs-string">&#x27;nodes&#x27;</span>);
</code></pre>
<p>Optionally, if the linked record takes arguments, you can pass a bag of <code>variables</code> as well.</p>
<h4><a class="anchor" aria-hidden="true" id="example-14"></a><a href="#example-14" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">rootField {
  nodes(<span class="hljs-keyword">first</span>: $<span class="hljs-built_in">count</span>) {
    <span class="hljs-comment"># ...</span>
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> viewer = rootField.getLinkedRecord(<span class="hljs-string">&#x27;viewer&#x27;</span>, {<span class="hljs-attr">count</span>: <span class="hljs-number">10</span>});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getorcreatelinkedrecordname-string-typename-string-arguments-object"></a><a href="#getorcreatelinkedrecordname-string-typename-string-arguments-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getOrCreateLinkedRecord(name: string, typeName: string, arguments?: ?Object)</code></h3>
<p>Retrieves the a record associated with the current record given the field name, as defined by the GraphQL document. If the linked record does not exist, it will be created given the type name. Returns a <code>RecordProxy</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-15"></a><a href="#example-15" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-section">rootField</span> {
  <span class="hljs-section">viewer</span> {
    <span class="hljs-attribute">id</span>
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> newViewer = rootField.getOrCreateLinkedRecord(<span class="hljs-string">&#x27;viewer&#x27;</span>, <span class="hljs-string">&#x27;User&#x27;</span>); <span class="hljs-comment">// Will create if it doesn&#x27;t exist</span>
</code></pre>
<p>Optionally, if the linked record takes arguments, you can pass a bag of <code>variables</code> as well.</p>
<h3><a class="anchor" aria-hidden="true" id="setvaluevalue-mixed-name-string-arguments-object-recordproxy"></a><a href="#setvaluevalue-mixed-name-string-arguments-object-recordproxy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setValue(value: mixed, name: string, arguments?: ?Object): RecordProxy</code></h3>
<p>Mutates the current record by setting a new value on the specified field. Returns the mutated record.</p>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql">viewer {
  <span class="hljs-built_in">id</span>
  <span class="hljs-built_in">name</span>
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript">viewer.setValue(<span class="hljs-string">&#x27;New Name&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>);
</code></pre>
<p>Optionally, if the field takes arguments, you can pass a bag of <code>variables</code>.</p>
<pre><code class="hljs css language-javascript">viewer.setValue(<span class="hljs-string">&#x27;New Name&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>, {<span class="hljs-attr">arg</span>: <span class="hljs-string">&#x27;value&#x27;</span>});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="copyfieldsfromsourcerecord-recordproxy-void"></a><a href="#copyfieldsfromsourcerecord-recordproxy-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>copyFieldsFrom(sourceRecord: RecordProxy): void</code></h3>
<p>Mutates the current record by copying the fields over from the passed in record <code>sourceRecord</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-16"></a><a href="#example-16" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> record = store.get(id1);
<span class="hljs-keyword">const</span> otherRecord = store.get(id2);
record.copyFieldsFrom(otherRecord); <span class="hljs-comment">// Mutates `record`</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="setlinkedrecordrecord-recordproxy-name-string-arguments-object"></a><a href="#setlinkedrecordrecord-recordproxy-name-string-arguments-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setLinkedRecord(record: RecordProxy, name: string, arguments?: ?Object)</code></h3>
<p>Mutates the current record by setting a new linked record on the given the field name.</p>
<h4><a class="anchor" aria-hidden="true" id="example-17"></a><a href="#example-17" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-section">rootField</span> {
  <span class="hljs-section">viewer</span> {
    <span class="hljs-attribute">id</span>
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> newViewer = store.create(<span class="hljs-comment">/* ... */</span>)<span class="hljs-string">&#x27;&#x27;</span>
rootField.setLinkedRecord(newViewer, <span class="hljs-string">&#x27;viewer&#x27;</span>); <span class="hljs-comment">//</span>
</code></pre>
<p>Optionally, if the linked record takes arguments, you can pass a bag of <code>variables</code> as well.</p>
<h3><a class="anchor" aria-hidden="true" id="setlinkedrecordsrecords-arrayrecordproxy-name-string-variables-object"></a><a href="#setlinkedrecordsrecords-arrayrecordproxy-name-string-variables-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setLinkedRecords(records: Array&lt;RecordProxy&gt;, name: string, variables?: ?Object)</code></h3>
<p>Mutates the current record by setting a new set of linked records on the given the field name.</p>
<h4><a class="anchor" aria-hidden="true" id="example-18"></a><a href="#example-18" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>Given the GraphQL document:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-class">rootField </span>{
  <span class="hljs-class">nodes </span>{
    <span class="hljs-meta"># ...</span>
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> rootField = store.getRootField(<span class="hljs-string">&#x27;rootField&#x27;</span>);
<span class="hljs-keyword">const</span> newNode = store.create(<span class="hljs-comment">/* ... */</span>);
<span class="hljs-keyword">const</span> newNodes = [...rootField.getLinkedRecords(<span class="hljs-string">&#x27;nodes&#x27;</span>), newNode];
rootField.setLinkedRecords(newNodes, <span class="hljs-string">&#x27;nodes&#x27;</span>); <span class="hljs-comment">//</span>
</code></pre>
<p>Optionally, if the linked record takes arguments, you can pass a bag of <code>variables</code> as well.</p>
<h3><a class="anchor" aria-hidden="true" id="invalidaterecord-void"></a><a href="#invalidaterecord-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>invalidateRecord(): void</code></h3>
<p>Invalidates the record. This will cause any query that references this record to be considered stale until the next time it is refetched, and will be considered to require a refetch the next time such a query is checked with <code>environment.check()</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-19"></a><a href="#example-19" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> record = store.get(<span class="hljs-string">&#x27;4&#x27;</span>);
record.invalidateRecord();
</code></pre>
<p>After invalidating a record, any query that references the invalidated record and that is checked before refetching it will be considered stale:</p>
<pre><code class="hljs css language-javascript">environment.check(query) === <span class="hljs-string">&#x27;stale&#x27;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="connectionhandler"></a><a href="#connectionhandler" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ConnectionHandler</h2>
<p><code>ConnectionHandler</code> is a utility module exposed by <code>relay-runtime</code> that aids in the manipulation of connections. <code>ConnectionHandler</code> exposes the following interface:</p>
<pre><code class="hljs css language-javascript">interface ConnectionHandler {
  getConnection(
    record: RecordProxy,
    <span class="hljs-attr">key</span>: string,
    filters?: ?<span class="hljs-built_in">Object</span>,
  ): ?RecordProxy,
  createEdge(
    store: RecordSourceProxy,
    <span class="hljs-attr">connection</span>: RecordProxy,
    <span class="hljs-attr">node</span>: RecordProxy,
    <span class="hljs-attr">edgeType</span>: string,
  ): RecordProxy,
  insertEdgeBefore(
    connection: RecordProxy,
    <span class="hljs-attr">newEdge</span>: RecordProxy,
    cursor?: ?string,
  ): <span class="hljs-keyword">void</span>,
  insertEdgeAfter(
    connection: RecordProxy,
    <span class="hljs-attr">newEdge</span>: RecordProxy,
    cursor?: ?string,
  ): <span class="hljs-keyword">void</span>,
  deleteNode(connection: RecordProxy, <span class="hljs-attr">nodeID</span>: string): <span class="hljs-keyword">void</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getconnectionrecord-recordproxy-key-string-filters-object"></a><a href="#getconnectionrecord-recordproxy-key-string-filters-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getConnection(record: RecordProxy, key: string, filters?: ?Object)</code></h3>
<p>Given a record and a connection key, and optionally a set of filters, <code>getConnection</code> retrieves a <a href="#recordproxy"><code>RecordProxy</code></a> that represents a connection that was annotated with a <code>@connection</code> directive.</p>
<p>First, let's take a look at a plain connection:</p>
<pre><code class="hljs css language-graphql">fragment FriendsFragment on <span class="hljs-keyword">User</span> <span class="hljs-title">{
  friends</span>(first: <span class="hljs-number">10</span>) {
    edges {
      <span class="hljs-keyword">node</span> <span class="hljs-title">{
        id</span>
      }
    }
  }
}
</code></pre>
<p>Accessing a plain connection field like this is the same as other regular field:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// The `friends` connection record can be accessed with:</span>
<span class="hljs-keyword">const</span> user = store.get(userID);
<span class="hljs-keyword">const</span> friends = user &amp;&amp; user.getLinkedRecord(<span class="hljs-string">&#x27;friends&#x27;</span>);

<span class="hljs-comment">// Access fields on the connection:</span>
<span class="hljs-keyword">const</span> edges = friends &amp;&amp; friends.getLinkedRecords(<span class="hljs-string">&#x27;edges&#x27;</span>);
</code></pre>
<p>In a <a href="./pagination-container.html">pagination container</a>, we usually annotate the actual connection field with <code>@connection</code> to tell Relay which part needs to be paginated:</p>
<pre><code class="hljs css language-graphql">fragment FriendsFragment on <span class="hljs-keyword">User</span> <span class="hljs-title">{
  friends</span>(first: <span class="hljs-number">10</span>, orderby: <span class="hljs-string">&quot;firstname&quot;</span>) @connection(
    key: <span class="hljs-string">&quot;FriendsFragment_friends&quot;</span>,
  ) {
    edges {
      <span class="hljs-keyword">node</span> <span class="hljs-title">{
        id</span>
      }
    }
  }
}
</code></pre>
<p>For connections like the above, <code>ConnectionHandler</code> helps us find the record:</p>
<pre><code class="hljs">import {ConnectionHandler} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;relay-runtime&#x27;</span>;

<span class="hljs-comment">// The `friends` connection record can be accessed with:</span>
<span class="hljs-keyword">const</span> user = store.<span class="hljs-keyword">get</span>(userID);
<span class="hljs-keyword">const</span> friends = ConnectionHandler.getConnection(
 user,                        <span class="hljs-comment">// parent record</span>
 <span class="hljs-string">&#x27;FriendsFragment_friends&#x27;</span>    <span class="hljs-comment">// connection key</span>
 {<span class="hljs-keyword">orderby</span>: <span class="hljs-string">&#x27;firstname&#x27;</span>}       <span class="hljs-comment">// &#x27;filters&#x27; that is used to identify the connection</span>
);
<span class="hljs-comment">// Access fields on the connection:</span>
<span class="hljs-keyword">const</span> edges = friends.getLinkedRecords(<span class="hljs-string">&#x27;edges&#x27;</span>);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="edge-creation-and-insertion"></a><a href="#edge-creation-and-insertion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Edge creation and insertion</h3>
<h4><a class="anchor" aria-hidden="true" id="createedgestore-recordsourceproxy-connection-recordproxy-node-recordproxy-edgetype-string"></a><a href="#createedgestore-recordsourceproxy-connection-recordproxy-node-recordproxy-edgetype-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>createEdge(store: RecordSourceProxy, connection: RecordProxy, node: RecordProxy, edgeType: string)</code></h4>
<p>Creates an edge given a <a href="#recordsourceselectorproxy"><code>store</code></a>, a connection, the edge type, and a record that holds that connection.</p>
<h4><a class="anchor" aria-hidden="true" id="insertedgebeforeconnection-recordproxy-newedge-recordproxy-cursor-string"></a><a href="#insertedgebeforeconnection-recordproxy-newedge-recordproxy-cursor-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>insertEdgeBefore(connection: RecordProxy, newEdge: RecordProxy, cursor?: ?string)</code></h4>
<p>Given a connection, inserts the edge at the beginning of the connection, or before the specified <code>cursor</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="insertedgeafterconnection-recordproxy-newedge-recordproxy-cursor-string"></a><a href="#insertedgeafterconnection-recordproxy-newedge-recordproxy-cursor-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>insertEdgeAfter(connection: RecordProxy, newEdge: RecordProxy, cursor?: ?string)</code></h4>
<p>Given a connection, inserts the edge at the end of the connection, or after the specified <code>cursor</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="example-20"></a><a href="#example-20" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs">const user = store.get(userID);
const friends = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>get<span class="hljs-constructor">Connection(<span class="hljs-params">user</span>, &#x27;<span class="hljs-params">friends</span>&#x27;)</span>;
const edge = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>create<span class="hljs-constructor">Edge(<span class="hljs-params">store</span>, <span class="hljs-params">friends</span>, <span class="hljs-params">user</span>, &#x27;UserEdge&#x27;)</span>;

<span class="hljs-comment">// No cursor provided, append the edge at the end.</span>
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>insert<span class="hljs-constructor">EdgeAfter(<span class="hljs-params">friends</span>, <span class="hljs-params">edge</span>)</span>;

<span class="hljs-comment">// No cursor provided, Insert the edge at the front:</span>
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>insert<span class="hljs-constructor">EdgeBefore(<span class="hljs-params">friends</span>, <span class="hljs-params">edge</span>)</span>;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="deletenodeconnection-recordproxy-nodeid-string-void"></a><a href="#deletenodeconnection-recordproxy-nodeid-string-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>deleteNode(connection: RecordProxy, nodeID: string): void</code></h3>
<p>Given a connection, deletes any edges whose id matches the given id.</p>
<h4><a class="anchor" aria-hidden="true" id="example-21"></a><a href="#example-21" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs">const user = store.get(userID);
const friends = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>get<span class="hljs-constructor">Connection(<span class="hljs-params">user</span>, &#x27;<span class="hljs-params">friends</span>&#x27;)</span>;
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ConnectionHandler</span>.</span></span>delete<span class="hljs-constructor">Node(<span class="hljs-params">friends</span>, <span class="hljs-params">idToDelete</span>)</span>;
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 5/6/2020 by Giovanni Cappellotto</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/v10.0.1/subscriptions"><span class="arrow-prev">← </span><span>Subscriptions</span></a><a class="docs-next button" href="/docs/en/v10.0.1/fetch-query"><span class="function-name-prevnext">fetchQuery</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#recordsourceselectorproxy">RecordSourceSelectorProxy</a><ul class="toc-headings"><li><a href="#createdataid-string-typename-string-recordproxy"><code>create(dataID: string, typeName: string): RecordProxy</code></a></li><li><a href="#deletedataid-string-void"><code>delete(dataID: string): void</code></a></li><li><a href="#getdataid-string-recordproxy"><code>get(dataID: string): ?RecordProxy</code></a></li><li><a href="#getroot-recordproxy"><code>getRoot(): RecordProxy</code></a></li><li><a href="#getrootfieldfieldname-string-recordproxy"><code>getRootField(fieldName: string): ?RecordProxy</code></a></li><li><a href="#getpluralrootfieldfieldname-string-arrayrecordproxy"><code>getPluralRootField(fieldName: string): ?Array&lt;?RecordProxy&gt;</code></a></li><li><a href="#invalidatestore-void"><code>invalidateStore(): void</code></a></li></ul></li><li><a href="#recordproxy">RecordProxy</a><ul class="toc-headings"><li><a href="#getdataid-string"><code>getDataID(): string</code></a></li><li><a href="#gettype-string"><code>getType(): string</code></a></li><li><a href="#getvaluename-string-arguments-object-mixed"><code>getValue(name: string, arguments?: ?Object): mixed</code></a></li><li><a href="#getlinkedrecordname-string-arguments-object-recordproxy"><code>getLinkedRecord(name: string, arguments?: ?Object): ?RecordProxy</code></a></li><li><a href="#getlinkedrecordsname-string-arguments-object-arrayrecordproxy"><code>getLinkedRecords(name: string, arguments?: ?Object): ?Array&lt;?RecordProxy&gt;</code></a></li><li><a href="#getorcreatelinkedrecordname-string-typename-string-arguments-object"><code>getOrCreateLinkedRecord(name: string, typeName: string, arguments?: ?Object)</code></a></li><li><a href="#setvaluevalue-mixed-name-string-arguments-object-recordproxy"><code>setValue(value: mixed, name: string, arguments?: ?Object): RecordProxy</code></a></li><li><a href="#copyfieldsfromsourcerecord-recordproxy-void"><code>copyFieldsFrom(sourceRecord: RecordProxy): void</code></a></li><li><a href="#setlinkedrecordrecord-recordproxy-name-string-arguments-object"><code>setLinkedRecord(record: RecordProxy, name: string, arguments?: ?Object)</code></a></li><li><a href="#setlinkedrecordsrecords-arrayrecordproxy-name-string-variables-object"><code>setLinkedRecords(records: Array&lt;RecordProxy&gt;, name: string, variables?: ?Object)</code></a></li><li><a href="#invalidaterecord-void"><code>invalidateRecord(): void</code></a></li></ul></li><li><a href="#connectionhandler">ConnectionHandler</a><ul class="toc-headings"><li><a href="#getconnectionrecord-recordproxy-key-string-filters-object"><code>getConnection(record: RecordProxy, key: string, filters?: ?Object)</code></a></li><li><a href="#edge-creation-and-insertion">Edge creation and insertion</a></li><li><a href="#deletenodeconnection-recordproxy-nodeid-string-void"><code>deleteNode(connection: RecordProxy, nodeID: string): void</code></a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="left-column"><div class="docsRating" id="docsRating">Is this page useful?<svg class="i_thumbsup" alt="Like" id="docsRating-like" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 81.13 89.76"><path d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"></path></svg><svg class="i_thumbsdown" alt="Dislike" id="docsRating-dislike" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 81.13 89.76"><path d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"></path></svg></div><div><a href="/" class="nav-home"><img src="/img/relay.svg" alt="Relay" width="66" height="58"/></a><div class="links-column"><h5>Docs</h5><a href="/docs/en/introduction-to-relay.html">Introduction</a></div></div></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a></div><div><h5>More</h5><a href="https://github.com/facebook/relay">GitHub</a><a href="https://opensource.facebook.com/legal/terms">Terms of Use</a><a href="https://opensource.facebook.com/legal/privacy">Privacy Policy</a><a href="https://opensource.facebook.com/legal/data-policy/">Data Policy</a><a href="https://opensource.facebook.com/legal/cookie-policy/">Cookie Policy</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2021 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '3d7d5825d50ea36bca0e6ad06c926f06',
                indexName: 'relay',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["version:v10.0.1"]}
              });
            </script></body></html>