==================================== INPUT ====================================
# expected-to-throw
fragment EnabledFoo on Node {
  actor {
    # could get nulled out here if name is missing
    name @required(action: LOG)
  }
  ... on User {
    actor {
      # but then the value will also get created here, which is bad
      id
    }
  }
}
==================================== ERROR ====================================
[31mâœ–ï¸Ž @required fields must be included in all instances of their parent. The field 'name` is marked as @required here[0m

  [4mduplicate-field-nullable-parent.invalid.graphql[0m[2m:5:5[0m
[1m    4 â”‚ [0m    # could get nulled out here if name is missing
[1m    5 â”‚ [0m    [31mn[0m[31ma[0m[31mm[0m[31me[0m @required(action: LOG)
      â”‚     ^^^^
    6 â”‚   }

  â„¹ï¸Ž but is missing from

  duplicate-field-nullable-parent.invalid.graphql:8:5
    7 â”‚   ... on User {
    8 â”‚     actor {
      â”‚     ^^^^^
    9 â”‚       # but then the value will also get created here, which is bad
