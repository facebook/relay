<!doctype html>
<html class="docs-version-v3.0.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Relay RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Relay Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-50","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44373548-50"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44373548-50",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Relay" href="/opensearch.xml"><title data-react-helmet="true">Routing | Relay</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://relay.dev/img/relay.png"><meta data-react-helmet="true" name="twitter:image" content="https://relay.dev/img/relay.png"><meta data-react-helmet="true" property="og:url" content="https://relay.dev/docs/v3.0.0/routing/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v3.0.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v3.0.0"><meta data-react-helmet="true" property="og:title" content="Routing | Relay"><meta data-react-helmet="true" name="description" content="Historically, Relay started out internally at Facebook as a routing framework. However, Relay no longer makes any assumptions about routing, and works with a variety of routing options."><meta data-react-helmet="true" property="og:description" content="Historically, Relay started out internally at Facebook as a routing framework. However, Relay no longer makes any assumptions about routing, and works with a variety of routing options."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://relay.dev/docs/v3.0.0/routing/"><link data-react-helmet="true" rel="alternate" href="https://relay.dev/docs/v3.0.0/routing/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://relay.dev/docs/v3.0.0/routing/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4d704aec.css">
<link rel="preload" href="/assets/js/runtime~main.2e92e18f.js" as="script">
<link rel="preload" href="/assets/js/main.b60abdb4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Relay</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/help/">Help</a><a href="https://github.com/facebook/relay" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/v3.0.0/">v3.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/">Next ðŸš§</a></li><li><a class="dropdown__link" href="/docs/">v14.0.0</a></li><li><a class="dropdown__link" href="/docs/v13.0.0/">v13.0.0</a></li><li><a class="dropdown__link" href="/docs/v12.0.0/">v12.0.0</a></li><li><a class="dropdown__link" href="/docs/v11.0.0/">v11.0.0</a></li><li><a class="dropdown__link" href="/docs/v10.1.3/routing/">v10.1.3</a></li><li><a class="dropdown__link" href="/docs/v10.1.2/routing/">v10.1.2</a></li><li><a class="dropdown__link" href="/docs/v10.1.1/routing/">v10.1.1</a></li><li><a class="dropdown__link" href="/docs/v10.1.0/routing/">v10.1.0</a></li><li><a class="dropdown__link" href="/docs/v10.0.1/routing/">v10.0.1</a></li><li><a class="dropdown__link" href="/docs/v10.0.0/routing/">v10.0.0</a></li><li><a class="dropdown__link" href="/docs/v9.1.0/routing/">v9.1.0</a></li><li><a class="dropdown__link" href="/docs/v9.0.0/routing/">v9.0.0</a></li><li><a class="dropdown__link" href="/docs/v8.0.0/routing/">v8.0.0</a></li><li><a class="dropdown__link" href="/docs/v7.1.0/routing/">v7.1.0</a></li><li><a class="dropdown__link" href="/docs/v7.0.0/routing/">v7.0.0</a></li><li><a class="dropdown__link" href="/docs/v6.0.0/routing/">v6.0.0</a></li><li><a class="dropdown__link" href="/docs/v5.0.0/routing/">v5.0.0</a></li><li><a class="dropdown__link" href="/docs/v4.0.0/routing/">v4.0.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v3.0.0/routing/">v3.0.0</a></li><li><a class="dropdown__link" href="/docs/v2.0.0/routing/">v2.0.0</a></li><li><a class="dropdown__link" href="/docs/v1.7.0/routing/">v1.7.0</a></li><li><a class="dropdown__link" href="/docs/v1.6.2/routing/">v1.6.2</a></li><li><a class="dropdown__link" href="/docs/v1.6.1/routing/">v1.6.1</a></li><li><a class="dropdown__link" href="/docs/v1.6.0/routing/">v1.6.0</a></li><li><a class="dropdown__link" href="/docs/v1.5.0/routing/">v1.5.0</a></li><li><a class="dropdown__link" href="/docs/v1.4.1/routing/">v1.4.1</a></li><li><a class="dropdown__link" href="/versions/">All versions</a></li></ul></div><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/v3.0.0/routing/">Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3.0.0/relay-debugging/">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3.0.0/graphql-server-specification/">GraphQL Server Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3.0.0/persisted-queries/">Persisted Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3.0.0/type-emission/">Type Emission</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Migration Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Principles &amp; Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_1lV3"><div class="docItemContainer_zt2Y"><article><div><span class="badge badge--secondary">Version: v3.0.0</span></div><header><h1 class="docTitle_1y8q">Routing</h1></header><div class="markdown"><p>Historically, Relay started out internally at Facebook as a routing framework. However, Relay no longer makes any assumptions about routing, and works with a variety of routing options.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="no-routing">No Routing<a aria-hidden="true" class="hash-link" href="#no-routing" title="Direct link to heading">â€‹</a></h2><p>If the Relay part of an application is some widget or single view as part of a larger application, you don&#x27;t need any routing. You can just render a <code>QueryRenderer</code> somewhere on the page to fetch and render the data you need there. This option is simple and should be used when sufficient.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="flat-routes">Flat Routes<a aria-hidden="true" class="hash-link" href="#flat-routes" title="Direct link to heading">â€‹</a></h2><p>When not nesting routes with Relay data dependencies, such as when using flat routes, it is sufficient to just render a <code>QueryRenderer</code> for the parts of your application that require Relay data. You can also use the options below that integrate your routes with their data dependencies.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="nested-routes">Nested Routes<a aria-hidden="true" class="hash-link" href="#nested-routes" title="Direct link to heading">â€‹</a></h2><p>Nested routes with Relay data dependencies introduce an additional complication. While it&#x27;s possible to render a <code>QueryRenderer</code> per route, doing so will lead to request waterfalls in the general case where parent routes do not render their child routes until the data for those parent routes are available. This generally leads to an unnecessary additional delay in loading the data for the page, but may be acceptable for small applications or for applications with shallow route trees.</p><p>Integration options are available for open-source routing libraries that can instead fetch data for nested routes in parallel. In many of these cases, using a batching network layer can bring additional benefits in avoiding sending multiple HTTP requests.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="react-router"><a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer">React Router</a><a aria-hidden="true" class="hash-link" href="#react-router" title="Direct link to heading">â€‹</a></h3><p>Integration with Relay Classic for React Router v2 or v3 is available via <a href="https://github.com/relay-tools/react-router-relay" target="_blank" rel="noopener noreferrer"><code>react-router-relay</code></a>, which will aggregate the queries for matched routes, and request data for all routes in parallel.</p><p>The component-based approach of React Router v4 does not readily allow for aggregating the data requirements for nested routes, and as such does not readily permit an approach that will avoid request waterfalls from nesting <code>QueryRenderer</code> components.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="found"><a href="https://github.com/4Catalyzer/found" target="_blank" rel="noopener noreferrer">Found</a><a aria-hidden="true" class="hash-link" href="#found" title="Direct link to heading">â€‹</a></h3><p>Found offers integration with Relay Modern and Relay Classic via <a href="https://github.com/4Catalyzer/found-relay" target="_blank" rel="noopener noreferrer">Found Relay</a>. Found Relay runs queries for matched routes in parallel, and supports fetching Relay data in parallel with downloading async bundles from code splitting when using Relay Modern.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="custom-routing-and-more">Custom Routing and More<a aria-hidden="true" class="hash-link" href="#custom-routing-and-more" title="Direct link to heading">â€‹</a></h2><p>The options listed above are not exhaustive. If you are aware of other routing solutions that work well with Relay Modern, <a href="https://github.com/facebook/relay/issues/new" target="_blank" rel="noopener noreferrer">please let us know</a>.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/v3.0.0/fetch-query/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->fetchQuery</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/v3.0.0/relay-debugging/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Debugging<!-- --> Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#no-routing" class="table-of-contents__link toc-highlight">No Routing</a></li><li><a href="#flat-routes" class="table-of-contents__link toc-highlight">Flat Routes</a></li><li><a href="#nested-routes" class="table-of-contents__link toc-highlight">Nested Routes</a><ul><li><a href="#react-router" class="table-of-contents__link toc-highlight">React Router</a></li><li><a href="#found" class="table-of-contents__link toc-highlight">Found</a></li></ul></li><li><a href="#custom-routing-and-more" class="table-of-contents__link toc-highlight">Custom Routing and More</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_self" href="/docs/">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_self" href="/users/">User Showcase</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/relay.svg" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/relay.svg" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div></div></div></footer></div>
<script src="/assets/js/runtime~main.2e92e18f.js"></script>
<script src="/assets/js/main.b60abdb4.js"></script>
</body>
</html>