==================================== INPUT ====================================
# expected-to-throw
query QueryWithFragmentWithDefer {
  me {
    id
    ...UserFragment
  }
}

fragment UserFragment on User {
  id
  emailAddresses
  ...DeferredFragment @defer(label: "deferred")
  ...OtherDeferredFragment @defer(label: "deferred")
}

fragment DeferredFragment on User {
  id
  name
}

fragment OtherDeferredFragment on User {
  id
  name
}
==================================== ERROR ====================================
âœ–ï¸Ž Invalid use of @defer, the provided label is not unique. Specify a unique 'label' as a literal string.

  fragment-with-defer-duplicate-label.invalid.graphql:12:23
   11 â”‚   emailAddresses
[1m   12 â”‚ [0m  ...DeferredFragment [31m@[0m[31md[0m[31me[0m[31mf[0m[31me[0mr(label: "deferred")
      â”‚                       ^^^^^^
   13 â”‚   ...OtherDeferredFragment @defer(label: "deferred")

  â„¹ï¸Ž related location

  [4mfragment-with-defer-duplicate-label.invalid.graphql[0m[2m:13:28[0m
[1m   12 â”‚ [0m  ...DeferredFragment @defer(label: "deferred")
[1m   13 â”‚ [0m  ...OtherDeferredFragment [31m@[0m[31md[0m[31me[0m[31mf[0m[31me[0m[31mr[0m(label: "deferred")
      â”‚ [31m                           ^^^^^^[0m
[1m   14 â”‚ [0m}
