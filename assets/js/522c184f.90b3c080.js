"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[28996],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>c,MDXProvider:()=>u,mdx:()=>b,useMDXComponents:()=>p,withMDXComponents:()=>d});var r=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(this,arguments)}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},m=Object.keys(e);for(r=0;r<m.length;r++)a=m[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(r=0;r<m.length;r++)a=m[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=r.createContext({}),d=function(e){return function(t){var a=p(t.components);return r.createElement(e,m({},t,{components:a}))}},p=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,m=e.originalType,n=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(a),u=o,f=d["".concat(n,".").concat(u)]||d[u]||s[u]||m;return a?r.createElement(f,i(i({ref:t},c),{},{components:a})):r.createElement(f,i({ref:t},c))}));function b(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var m=a.length,n=new Array(m);n[0]=f;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,n[1]=i;for(var c=2;c<m;c++)n[c]=a[c];return r.createElement.apply(null,n)}return r.createElement.apply(null,a)}f.displayName="MDXCreateElement"},51601:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>s,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var r=a(83117),o=a(80102),m=(a(67294),a(3905)),n=["components"],i={title:"Relay v20.0",author:"The Relay Team",hide_table_of_contents:!1},l="Version 20.0.0 Release Notes",c={permalink:"/blog/2025/06/13/relay-20",source:"@site/blog/2025-06-13-relay-20.mdx",title:"Relay v20.0",description:"Announcement: ESLint Plugin v2.0.0 Released",date:"2025-06-13T00:00:00.000Z",formattedDate:"June 13, 2025",tags:[],readingTime:3.54,hasTruncateMarker:!1,authors:[{name:"The Relay Team"}],frontMatter:{title:"Relay v20.0",author:"The Relay Team",hide_table_of_contents:!1},nextItem:{title:"Relay v19.0",permalink:"/blog/2025/04/02/relay-19"}},d={authorsImageUrls:[void 0]},p=[{value:"Announcement: ESLint Plugin v2.0.0 Released",id:"announcement-eslint-plugin-v200-released",level:2},{value:"Generated Documentation",id:"generated-documentation",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Bug fixes",id:"bug-fixes",level:2},{value:"Improvements",id:"improvements",level:2},{value:"Documentation Improvements",id:"documentation-improvements",level:2}],u={toc:p};function s(e){var t=e.components,a=(0,o.Z)(e,n);return(0,m.mdx)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h2",{id:"announcement-eslint-plugin-v200-released"},"Announcement: ESLint Plugin v2.0.0 Released"),(0,m.mdx)("p",null,"Relay's ESLint plugin, ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/relayjs/eslint-plugin-relay"},"eslint-plugin-relay"),", was recently updated to v2.0.0. This release includes a number of compatibility updates and removes a couple of deprecated rules. For more info, see the ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/relayjs/eslint-plugin-relay/blob/main/CHANGELOG.md"},"eslint-plugin-relay changelog"),"."),(0,m.mdx)("h2",{id:"generated-documentation"},"Generated Documentation"),(0,m.mdx)("p",null,"This release includes a brand new page covering the ",(0,m.mdx)("a",{parentName:"p",href:"https://relay.dev/docs/next/getting-started/compiler-config/"},"Relay compiler config"),". This has largely been undocumented so far and now includes autogenerated documentation! We also added tooling to autogenerate API docs from source code. The documentation for ",(0,m.mdx)("a",{parentName:"p",href:"https://relay.dev/docs/next/api-reference/use-relay-environment/"},(0,m.mdx)("inlineCode",{parentName:"a"},"useRelayEnvironment"))," and ",(0,m.mdx)("a",{parentName:"p",href:"https://relay.dev/docs/next/api-reference/use-lazy-load-query/"},(0,m.mdx)("inlineCode",{parentName:"a"},"useLazyLoadQuery"))," are examples of the new autogenerated tooling."),(0,m.mdx)("h2",{id:"breaking-changes"},"Breaking Changes"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Deprecate returning non-model weak types from resolvers. If you were using client side resolvers with the ",(0,m.mdx)("inlineCode",{parentName:"li"},"@outputType")," directive, these must be migrated to be strong or weak objects. You can continue to use the ",(0,m.mdx)("inlineCode",{parentName:"li"},"@outputType")," directive by enabling the ",(0,m.mdx)("inlineCode",{parentName:"li"},"allow_output_type_resolvers")," feature flag in the compiler config. (#5004) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/8fbc0b9cc87f"},"commit"),")")),(0,m.mdx)("h2",{id:"bug-fixes"},"Bug fixes"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Fix operation cleanup in RelayModernMockEnvironment by Martin Booth (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/239f6d9351b1"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix nested @defer + 3D when server doesn't support streaming by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/00594e1b7141"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix nested @defer when server doesn't support streaming by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/b801db036d13"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix incremental bug where resolver artifacts were not cleaned up by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/b270988c0849"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fetch missing client edge server queries discovered in nested fragments (#4992) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/611f6d9cfc99"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Pass client edge context to resolver root fragments by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/4177f3e27b26"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix variable name for imported model resolvers when using ES module imports (#4984) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/1073517d9842"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix excluding generated dir under xplat_react by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/9cbd126f113e"},"commit"),")")),(0,m.mdx)("h2",{id:"improvements"},"Improvements"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Add more time loggings in try_saved_state by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/cba7007c7aaf"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Log saved state info query time in relay compiler by Lynn Yu (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/60b906b921a4"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Annotate read time resolver promises by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/5ec796e48509"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Add VSCode tasks for common commands (#5003) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/6ab766a3e684"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Surface prefetchExpiryInHours from the entrypoint by Alice Liu (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/ca7ddea7ed4b"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Regression test for client edge server data discovered missing in resolver root fragment (#4994) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/48c81ad22bbf"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Run client edge tests for both versions of useFragment by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/16cd20078c84"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Update babel transform to default to default to ES modules to match compiler behavior (#4982) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/281d76a0b0b4"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Stop unnecessary runtime transforms by Lynn Yu (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/1eca4a5720ee"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Support enquoted field alias by Arseniy Panfilov (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/1182ca64e0a0"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Parser option to allow literal string aliases by Arseniy Panfilov (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/fb9f4d7fcb10"},"commit"),")")),(0,m.mdx)("h2",{id:"documentation-improvements"},"Documentation Improvements"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Update graphql.md readability (#5018) by Josh Maloon (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/9facd47af415"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Add argument definitions to usePaginationFragment docs (#5015) by DrillableBit (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/2b85d3740f40"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Remove docs on comet_routing_prefetch by Nithik Balachandran (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/5cb92f41b9fc"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix typo in description of the @throwOnFieldError directive by Marius Schulz (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/abedb68a3ad1"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"A couple grammar fixes (#5008) by Roman A (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/8c30f80fe6a2"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Replace out of date compiler readme with link to up-to-date docs page (#5005) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/2c773876c7e8"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Handle args and returns, convert useLazyLoadQuery by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/c3b70bc3a787"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Parse some docblock syntax and gen markdown for ",(0,m.mdx)("inlineCode",{parentName:"li"},"useRelayEnvironment")," by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/9b7f643c006b"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Pass compiler config json schema as a prop (#4997) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/9f242bb00f54"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Add docs page describing the Relay lint rules by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/7eca724d0aea"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Prevent json schema css for h2 from leaking into the rest of the site by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/35229211f119"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Compiler Docs: Improve separators in JSON arrays and objects (#4990) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/e59619e23998"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Make comment into doc comment in config struct (#4989) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/0b10aa591cf1"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fill in missing documentation in compiler config by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/70b27dfdfa16"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Add page documenting the compiler config (#4985) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/50fcf8726308"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Add missing generic type parameter for mutation tutorial example (#4981) by Joey Yu (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/f25a9d19aa91"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fixups to quickstart (#4983) by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/3de18da10cdf"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Update quick start guide to align with new version of Relay by Jordan Eldredge (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/19c33bbb4d02"},"commit"),")")),(0,m.mdx)("h1",{id:"experimental-changes"},"Experimental Changes"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Do not mark a query as inactive when waiting for resolver or server payload by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/dce1a2eaa7ec"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"In a exec time query, mark query as completed if all initial payloads are received by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/ba09a88925c0"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Fix operation executor for exec time by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/4136a8cd71d9"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Expose a loadClientQuery helper by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/21926a531f4f"},"commit"),")"),(0,m.mdx)("li",{parentName:"ul"},"Support normalized responses in OperationExecutor by Tianyu Yao (",(0,m.mdx)("a",{parentName:"li",href:"https://github.com/facebook/relay/commit/f3a9afa895ba"},"commit"),")")))}s.isMDXComponent=!0}}]);