==================================== INPUT ====================================
#expected-to-throw
fragment Foo_user on User {
  name @waterfall
  nearest_neighbor @waterfall {
    __typename
  }
}

# %extensions%
==================================== ERROR ====================================
[31mâœ–ï¸Ž Unexpected `@waterfall` directive. Only fields that are backed by a Client Edge and point to a server object should be annotated with the `@waterfall` directive.[0m

  [4munexpected-waterfall.invalid.graphql[0m[2m:3:8[0m
[1m    2 â”‚ [0mfragment Foo_user on User {
[1m    3 â”‚ [0m  name [31m@[0m[31mw[0m[31ma[0m[31mt[0m[31me[0m[31mr[0m[31mf[0m[31ma[0m[31ml[0m[31ml[0m
      â”‚ [31m       ^^^^^^^^^^[0m
[1m    4 â”‚ [0m  nearest_neighbor @waterfall {


[31mâœ–ï¸Ž Unexpected `@waterfall` directive. Only fields that are backed by a Client Edge and point to a server object should be annotated with the `@waterfall` directive.[0m

  [4munexpected-waterfall.invalid.graphql[0m[2m:4:20[0m
[1m    3 â”‚ [0m  name @waterfall
[1m    4 â”‚ [0m  nearest_neighbor [31m@[0m[31mw[0m[31ma[0m[31mt[0m[31me[0m[31mr[0m[31mf[0m[31ma[0m[31ml[0m[31ml[0m {
      â”‚ [31m                   ^^^^^^^^^^[0m
[1m    5 â”‚ [0m    __typename
